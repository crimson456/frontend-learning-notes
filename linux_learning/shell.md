# bash      Bourne-Again SHell


## 基本格式

格式：
.sh文件 以 #!/bin/bash 开头

## 命令行输入参数
    $0 执行的文件名(包含路径)
    $1、$2... 命令行参数，10以上要用大括号包括,如${10}
    $# 参数个数
    $* 以单字符串显示所有参数，"$*" 相当于"$1 $2...$n"
    $@ 以单字符串显示所有参数，但是以多个参数对待，"$@" 相当于 "$1" "$2"..."$n"
    $- 显示Shell使用的当前选项，与set命令功能相同
    $? 显示最后命令的退出状态,0没有错误，其他值有错误
    $$ 脚本运行进程ID
    $! 后台运行的最后一个进程的ID

## 系统变量
PATH  系统查找命令的路径
PS1  命令行前的提示符




## 变量

变量声明：不需要关键字直接使用
变量使用：$变量名 或 ${变量名}                  ${}形式可以再双引号中区分变量边界
只读变量：readonly 变量名
删除变量：unset 变量名

环境变量：export 变量名
>环境变量声明只对所以有子shell生效，在配置文件中配置对所有shell生效

## 变量测试

形如：x = ${ y [:][+-=?] value }

[变量测试](./变量测试.png)


## 数组
数组声明：数组名=(值1 值2 ...)
数组使用:${数组名[下标]}

## 变量使用

- 单引号    任何字符原样输出(不能使用变量)
- 双引号    可以使用变量和转义字符
- 反引号    表示内容为系统命令
- $()       表示内容为系统命令，和反引号相同

- ${#变量名}        输出字符串长度
- ${变量名:开始:结束}       截取字符串中的一段
- ${#数组名[@]}、${#数组名[*]}         输出数组长度

- 开头的#号        注释
- :<<标识 ... 标识          多行注释
- ： ' ... '                 多行注释

## 运算
1. 内置无运算，需借助外部指令expr
用于数字：
加、减、除、取余，例子：`expr $a + $b` 
乘法要转义，例子：`expr $a \* $b`
-eq 相等
-ne 不相等
-gt 大于
-lt 小于
-ge 大于等于
-le 小于等于

用于布尔值：
！ 非运算
-o 或运算
-a 与运算
|| 或运算,使用双中括号
&& 与运算,使用双中括号


用于字符串：
= 相等
!= 不相等
-z 检查字符串的长度为0
-n 检查字符串的长度不为0
$ 检查字符串是否不为空

用于文件：
-b 检测文件是否是块设备文件，是则返回true
-c 检测文件是否是字符设备文件，是则返回true
-d 检测文件是否是目录，是则返回true
-f 检测文件是否是普通文件，是则返回true
-g 检测文件是否设置了 SGID 位，是则返回true
-k 检测文件是否设置了粘着位(Sticky Bit)，是则返回true
-p 检测文件是否是有名管道，是则返回true
-u 检测文件是否设置了 SUID 位，是则返回true
-r 检测文件是否可读，是则返回true
-w 检测文件是否可写，是则返回true
-x 检测文件是否可执行，是则返回true
-s 检测文件是否为空（文件大小是否大于0），是则返回tr
-e 检测文件（包括目录）是否存在，是则返回true

2. $((运算式)) 或 $[运算式]      ---一般使用这种方式

3. delare -i 变量名=[]




## 条件执行语句
1. if语句
```bash
#注意条件包括在中括号内，且中括号左右都要有空格
#也可以使用(())，内部条件书写格式不同，中括号相当于test命令
#双小括号内部可以用c语言语法
if [ condition1 ] 
then
    command1
else-if [ condition2 ]
then
    command2
else
    command3
fi
```

2. case语句
```bash
case $变量名 in
    值1)
        command1
        ;;
    值2)
        command2
        ;;
    ...
    *)
        command3
        ;;
esac

```

3. for循环
```bash
for 变量 in 值1 值2 ...
    do 
        command
    done

# for循环条件中可以放表达式(())，形如
for ((i=0;i<=100;i=i+1))
    do 
        command
    done

    
```

4. while循环
```bash
while [ condition ]
do
    command
done

```

5. until循环
```bash
until [ condition ]
do
    command
done

```





