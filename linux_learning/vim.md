
# vim文本编辑器


三种模式：命令模式、编辑模式、末行模式


## 命令模式

光标操作
- 行首 ^ (shift+6)
- 行末 $ (shift+4)
- 首行 gg
- 末行 G
- 向上翻屏 ctrl+b  PgUp
- 向下翻盘 ctrl+f  PgDn   

- 移动到某一行 数字G
- 向上下左右移动n行或n列 数字↑↓←→
- 移动到某一行 :数字


复制
- 复制光标所在行 yy
- 复制光标所在行向下的行数 数字 yy  (数字+命令 表示重复多少次操作)
- 可视化复制 ctrl+v 进入模式后通过方向键选中需要复制的区域，再按下 yy 进行复制
- 粘贴 p

剪切
- 剪切光标所在行,下一行上移 dd
- 剪切光标所在行向下的行数,下一行上移 数字 dd
- 剪切光标所在行 D

撤消/恢复
- 撤销上一步 :u
- 恢复 ctrl+r




- 退出：q+Enter


## 编辑模式

进入编辑模式
- i 从目前光标所在处插入
- I 从目前光标所在行的第一个非空白字符处开始插入
- a 从目前光标所在处的下一个字符处开始插入
- A 从目前光标所在行的最后一个字符处开始插入
- o 从目前光标所在处的下一列插入新的一列
- O 从目前光标所在处的上一列插入新的一列
- r 取代光标所在的那一个字符一次
- R 进入取代模式，按下 Insert 会切换到插入模式

计算器
- ctrl+R 进入计算器，输入 = 后填写算式，回车后输出结果


- Esc 退出编辑模式



## 末行模式

- :w 保存
- :w! 强制保存（即使文件只读）
- :q 退出编辑器
- :q! 强制退出编辑器（不保存所做的编辑）
- :wq 保存并退出
- :wq! 强制保存并退出
- :x 保存并退出，同:wq，(如果文件没有修改，也不会变更修改时间)
- :x! 强制保存并退出，同 :wq!
- :w <文件名> 另存为新文件
- :r <文件名> 读取文件内容并追加到光标所在行的下一行
- :<起始行>,<结束行> w <文件名> 将从起始行到结束行的内容保存到新的文件，可以加上!强制覆盖已存在的文件
- :! <命令> 暂时离开 vi 到命令行界面下执行 <命令> 的显示结果
- :set nu 显式行号
- :set nonu 隐藏行号

- :syntax on 语法高亮
- :syntax off 去除语法高亮
- ：X 加密
- ：set key=[密码] 加密(密码为空则为解密)



## 配置
三种配置：
1. 文件打开后行末模式的配置
2. 个人配置文件(~/.vimrc)
3. 全局配置文件(/etc/vimrc)




## 异常
异常退出会生成.swp文件







